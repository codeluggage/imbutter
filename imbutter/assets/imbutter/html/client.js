
var jn=Symbol.for("#__initor__"),An=Symbol.for("#__inited__"),Rn=Symbol.for("#__hooks__"),Bn=Symbol.for("#type"),Nt=Symbol.for("#__listeners__");function ct(i){let t=typeof i;if(t=="number")return i;if(t=="string"){if(/^\d+fps$/.test(i))return 1e3/parseFloat(i);if(/^([-+]?[\d\.]+)s$/.test(i))return parseFloat(i)*1e3;if(/^([-+]?[\d\.]+)ms$/.test(i))return parseFloat(i)}return null}function Ct(i,t,e){if(!i)return;let r=Object.getOwnPropertyDescriptor(i,t);return r||i==e?r||void 0:Ct(Reflect.getPrototypeOf(i),t,e)}var Ue=function(i,t,e){let r,s,n;for(;(r=e)&&(e=e.next);)(s=e.listener)&&(e.path&&s[e.path]?n=t?s[e.path].apply(s,t):s[e.path]():n=t?s.apply(e,t):s.call(e)),e.times&&--e.times<=0&&(r.next=e.next,e.listener=null)};function ft(i,t,e,r){var s;let n,o,l;return n=i[Nt]||(i[Nt]={}),o=n[t]||(n[t]={}),l=o.tail||(o.tail=o.next={}),l.listener=e,l.path=r,o.tail=l.next={},l}function dt(i,t,e){let r=ft(i,t,e);return r.times=1,r}function Ge(i,t,e,r){let s,n,o=i[Nt];if(!!o&&(s=o[t])){for(;(n=s)&&(s=s.next);)if(s==e||s.listener==e){n.next=s.next,s.listener=null;break}}}function B(i,t,e){let r;(r=i[Nt])&&(r[t]&&Ue(t,e,r[t]),r.all&&Ue(t,[t,e],r.all))}function cs(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}var Ve=Symbol.for("#__init__"),fs=Symbol.for("#__patch__"),Un=Symbol.for("#__initor__"),Gn=Symbol.for("#__inited__"),Vn=Symbol.for("#__hooks__"),qe=Symbol.for("#schedule"),le=Symbol.for("#frames"),Ot=Symbol.for("#interval"),it=Symbol.for("#stage"),st=Symbol.for("#scheduled"),Ft=Symbol.for("#version"),ds=Symbol.for("#fps"),ze=Symbol.for("#ticker"),ps=globalThis.requestAnimationFrame||function(i){return globalThis.setTimeout(i,1e3/60)};var qn=1/60,Ye=class{[fs](t={}){var e;(e=t.owner)!==void 0&&(this.owner=e),(e=t.target)!==void 0&&(this.target=e),(e=t.active)!==void 0&&(this.active=e),(e=t.value)!==void 0&&(this.value=e),(e=t.skip)!==void 0&&(this.skip=e),(e=t.last)!==void 0&&(this.last=e)}constructor(t=null){this[Ve](t)}[Ve](t=null){var e;this.owner=t&&(e=t.owner)!==void 0?e:null,this.target=t&&(e=t.target)!==void 0?e:null,this.active=t&&(e=t.active)!==void 0?e:!1,this.value=t&&(e=t.value)!==void 0?e:void 0,this.skip=t&&(e=t.skip)!==void 0?e:0,this.last=t&&(e=t.last)!==void 0?e:0}tick(t,e){return this.last=this.owner[le],this.target.tick(this,e),1}update(t,e){let r=this.active,s=t.value;return this.value!=s&&(this.deactivate(),this.value=s),(this.value||r||e)&&this.activate(),this}queue(){this.owner.add(this)}activate(){return this.value===!0?this.owner.on("commit",this):this.value===!1||typeof this.value=="number"&&(this.value/(1e3/60)<=2?this.owner.on("raf",this):this[Ot]=globalThis.setInterval(this.queue.bind(this),this.value)),this.active=!0,this}deactivate(){return this.value===!0&&this.owner.un("commit",this),this.owner.un("raf",this),this[Ot]&&(globalThis.clearInterval(this[Ot]),this[Ot]=null),this.active=!1,this}},Ke=class{constructor(){var t=this;this.id=Symbol(),this.queue=[],this.stage=-1,this[it]=-1,this[le]=0,this[st]=!1,this[Ft]=0,this.listeners={},this.intervals={},t.commit=function(){return t.add("commit"),t},this[ds]=0,t.$promise=null,t.$resolve=null,this[ze]=function(e){return t[st]=!1,t.tick(e)}}touch(){return this[Ft]++}get version(){return this[Ft]}add(t,e){return(e||this.queue.indexOf(t)==-1)&&this.queue.push(t),this[st]||this[qe](),this}get committing\u03A6(){return this.queue.indexOf("commit")>=0}get syncing\u03A6(){return this[it]==1}listen(t,e){let r=this.listeners[t],s=!r;return r||(r=this.listeners[t]=new Set),r.add(e),t=="raf"&&s&&this.add("raf"),this}unlisten(t,e){var r;let s=this.listeners[t];return s&&s.delete(e),t=="raf"&&s&&s.size==0&&(r=this.listeners.raf,delete this.listeners.raf),this}on(t,e){return this.listen(t,e)}un(t,e){return this.unlisten(t,e)}get promise(){var t=this;return t.$promise||(t.$promise=new Promise(function(e){return t.$resolve=e}))}tick(t){var e=this;let r=this.queue,s=this[le]++;if(this.ts||(this.ts=t),this.dt=t-this.ts,this.ts=t,this.queue=[],this[it]=1,this[Ft]++,r.length)for(let n=0,o=cs(r),l=o.length;n<l;n++){let h=o[n];typeof h=="string"&&this.listeners[h]?e.listeners[h].forEach(function(a){if(a.tick instanceof Function)return a.tick(e,h);if(a instanceof Function)return a(e,h)}):h instanceof Function?h(e.dt,e):h.tick&&h.tick(e.dt,e)}return this[it]=this[st]?0:-1,e.$promise&&(e.$resolve(e),e.$promise=e.$resolve=null),e.listeners.raf&&e.add("raf"),e}[qe](){return this[st]||(this[st]=!0,this[it]==-1&&(this[it]=0),ps(this[ze])),this}schedule(t,e){var r,s;return e||(e=t[r=this.id]||(t[r]={value:!0})),(e[s=this.id]||(e[s]=new Ye({owner:this,target:t}))).update(e,!0)}unschedule(t,e={}){e||(e=t[this.id]);let r=e&&e[this.id];return r&&r.active&&r.deactivate(),this}},T=new Ke;function he(){return T.add("commit").promise}function ms(i,t){return globalThis.setTimeout(function(){i(),he()},t)}function bs(i,t){return globalThis.setInterval(function(){i(),he()},t)}var gs=globalThis.clearInterval,ys=globalThis.clearTimeout,pt=globalThis.imba||(globalThis.imba={});pt.commit=he;pt.setTimeout=ms;pt.setInterval=bs;pt.clearInterval=gs;pt.clearTimeout=ys;var Pt={on:function(i,t){return ft(this,i,t)},inited:function(i){return B(this,"inited",[i])}};function kt(){return!0}var We=Symbol.for("#toStringDeopt"),Wn=Symbol.for("#__initor__"),Jn=Symbol.for("#__inited__"),Qn=Symbol.for("#__hooks__"),Je=Symbol.for("#symbols"),Qe=Symbol.for("#batches"),Xe=Symbol.for("#extras"),Ze=Symbol.for("#stacks"),mt=class{constructor(t){this.dom=t,this.string=""}contains(t){return this.dom.classList.contains(t)}add(t){return this.contains(t)?this:(this.string+=(this.string?" ":"")+t,this.dom.classList.add(t),this)}remove(t){if(!this.contains(t))return this;let e=new RegExp("(^|\\s)"+t+"(?=\\s|$)","g");return this.string=this.string.replace(e,""),this.dom.classList.remove(t),this}toggle(t,e){return e===void 0&&(e=!this.contains(t)),e?this.add(t):this.remove(t)}incr(t,e=0){var r=this;let s=this.stacks,n=s[t]||0;return n<1&&this.add(t),e>0&&setTimeout(function(){return r.decr(t)},e),s[t]=Math.max(n,0)+1}decr(t){let e=this.stacks,r=e[t]||0;return r==1&&this.remove(t),e[t]=Math.max(r,1)-1}reconcile(t,e){let r=this[Je],s=this[Qe],n=!0;if(!r)r=this[Je]=[t],s=this[Qe]=[e||""],this.toString=this.valueOf=this[We];else{let o=r.indexOf(t),l=e||"";o==-1?(r.push(t),s.push(l)):s[o]!=l?s[o]=l:n=!1}n&&(this[Xe]=" "+s.join(" "),this.sync())}valueOf(){return this.string}toString(){return this.string}[We](){return this.string+(this[Xe]||"")}sync(){return this.dom.flagSync$()}get stacks(){return this[Ze]||(this[Ze]={})}};var Dt=Symbol.for("#__init__"),_s=Symbol.for("#__patch__"),tr=Symbol.for("#__initor__"),er=Symbol.for("#__inited__"),rr=Symbol.for("#__hooks__"),ue=Symbol.for("#getRenderContext"),$s=Symbol.for("#getDynamicContext"),ir=Symbol(),O={context:null},sr=class{[_s](t={}){var e;(e=t.stack)!==void 0&&(this.stack=e)}constructor(t=null){this[Dt](t)}[Dt](t=null){var e;this.stack=t&&(e=t.stack)!==void 0?e:[]}push(t){return this.stack.push(t)}pop(t){return this.stack.pop()}},Zn=new sr,H=class extends Map{static[Dt](){return this.prototype[tr]=ir,this}constructor(t,e=null){super();this._=t,this.sym=e,this[tr]===ir&&(this[rr]&&this[rr].inited(this),this[er]&&this[er]())}pop(){return O.context=null}[ue](t){let e=this.get(t);return e||this.set(t,e=new H(this._,t)),O.context=e}[$s](t,e){return this[ue](t)[ue](e)}run(t){return this.value=t,O.context==this&&(O.context=null),this.get(t)}cache(t){return this.set(this.value,t),t}};H[Dt]();function nr(i,t=Symbol(),e=i){return O.context=i[t]||(i[t]=new H(e,t))}function or(){let i=O.context,t=i||new H(null);return i&&(O.context=null),t}function bt(i,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,Object.defineProperties(i,e),i}function Ss(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}var It=Symbol.for("#parent"),lr=Symbol.for("#closestNode"),xs=Symbol.for("#parentNode"),vs=Symbol.for("#context"),hr=Symbol.for("#__init__"),ur=Symbol.for("##inited"),ae=Symbol.for("#getRenderContext"),ws=Symbol.for("#getDynamicContext"),ar=Symbol.for("#insertChild"),ce=Symbol.for("#appendChild"),fe=Symbol.for("#replaceChild"),cr=Symbol.for("#removeChild"),U=Symbol.for("#insertInto"),fr=Symbol.for("#insertIntoDeopt"),gt=Symbol.for("#removeFrom"),dr=Symbol.for("#removeFromDeopt"),nt=Symbol.for("#replaceWith"),pr=Symbol.for("#replaceWithDeopt"),de=Symbol.for("#placeholderNode"),Ts=Symbol.for("#attachToParent"),Es=Symbol.for("#detachFromParent"),Ns=Symbol.for("#placeChild"),Cs=Symbol.for("#beforeReconcile"),Os=Symbol.for("#afterReconcile"),Fs=Symbol.for("#afterVisit"),mr=Symbol.for("##parent"),Ps=Symbol.for("##up"),br=Symbol.for("##context"),W=Symbol.for("#domNode"),Lt=Symbol.for("##placeholderNode"),gr=Symbol.for("#domDeopt"),ks=Symbol.for("#isRichElement"),yr=Symbol.for("#src"),Mt=Symbol.for("#htmlNodeName"),Ds=Symbol.for("#getSlot"),no=Symbol.for("#ImbaElement"),_r=Symbol.for("#cssns"),Is=Symbol.for("#cssid"),{Event:J,UIEvent:oo,MouseEvent:$r,PointerEvent:lo,KeyboardEvent:Sr,CustomEvent:jt,Node:Q,Comment:At,Text:pe,Element:D,HTMLElement:Rt,HTMLHtmlElement:ho,HTMLSelectElement:uo,HTMLInputElement:ao,HTMLTextAreaElement:co,HTMLButtonElement:fo,HTMLOptionElement:po,HTMLScriptElement:mo,SVGElement:xr,DocumentFragment:bo,ShadowRoot:go,Document:Ls,Window:yo,customElements:_o}=globalThis.window,vr={};function wr(i,t,e){if(!i)return e[t]=null;if(e[t]!==void 0)return e[t];let r=Object.getOwnPropertyDescriptor(i,t);return r!==void 0||i==xr?e[t]=r||null:wr(Reflect.getPrototypeOf(i),t,e)}var me={},be={},Ms={},ge={};var js={get(i,t){let e=i,r;for(;e&&r==null;)(e=e[It])&&(r=e[t]);return r},set(i,t,e){let r=i,s;for(;r&&s==null;){if(Ct(r,t,D))return r[t]=e,!0;r=r[It]}return!0}},Tr=class{get flags(){return this.documentElement.flags}};bt(Ls.prototype,Tr.prototype);var Er=class{get[It](){return this[mr]||this.parentNode||this[Ps]}get[lr](){return this}get[xs](){return this[It][lr]}get[vs](){return this[br]||(this[br]=new Proxy(this,js))}[hr](){return this}[ur](){return this}[ae](t){return nr(this,t)}[ws](t,e){return this[ae](t)[ae](e)}[ar](t,e){return t[U](this,e)}[ce](t){return t[U](this,null)}[fe](t,e){let r=this[ar](t,e);return this[cr](e),r}[cr](t){return t[gt](this)}[U](t,e=null){return e?t.insertBefore(this,e):t.appendChild(this),this}[fr](t,e){return e?t.insertBefore(this[W]||this,e):t.appendChild(this[W]||this),this}[gt](t){return t.removeChild(this)}[dr](t){return t.removeChild(this[W]||this)}[nt](t,e){return e[fe](t,this)}[pr](t,e){return e[fe](t,this[W]||this)}get[de](){return this[Lt]||(this[Lt]=globalThis.document.createComment("placeholder"))}set[de](t){let e=this[Lt];this[Lt]=t,e&&e!=t&&e.parentNode&&e[nt](t)}[Ts](){let t=this[W],e=t&&t.parentNode;return t&&e&&t!=this&&(this[W]=null,this[U](e,t),t[gt](e)),this}[Es](){(this[gr]!=!0?(this[gr]=!0,!0):!1)&&(this[nt]=this[pr],this[gt]=this[dr],this[U]=this[fr]);let t=this[de];return this.parentNode&&t!=this&&(t[U](this.parentNode,this),this[gt](this.parentNode)),this[W]=t,this}[Ns](t,e,r){let s=typeof t;if(s==="undefined"||t===null){if(r&&r instanceof At)return r;let n=globalThis.document.createComment("");return r?r[nt](n,this):n[U](this,null)}if(t===r)return t;if(s!=="object"){let n,o=t;return e&128&&e&256,r?r instanceof pe?(r.textContent=o,r):(n=globalThis.document.createTextNode(o),r[nt](n,this),n):(this.appendChild(n=globalThis.document.createTextNode(o)),n)}else return r?r[nt](t,this):t[U](this,null)}};bt(Q.prototype,Er.prototype);var Nr=class{log(...t){return console.log(...t),this}emit(t,e,r={bubbles:!0,cancelable:!0}){e!=null&&(r.detail=e);let s=new jt(t,r),n=this.dispatchEvent(s);return s}text$(t){return this.textContent=t,this}[Cs](){return this}[Os](){return this}[Fs](){this.render&&this.render()}get flags(){return this.$flags||(this.$flags=new mt(this),this.flag$==D.prototype.flag$&&(this.flags$ext=this.className),this.flagDeopt$()),this.$flags}flag$(t){let e=this.flags$ns;this.className=e?e+(this.flags$ext=t):this.flags$ext=t}flagDeopt$(){var t=this;this.flag$=this.flagExt$,t.flagSelf$=function(e){return t.flagSync$(t.flags$own=e)}}flagExt$(t){return this.flagSync$(this.flags$ext=t)}flagSelf$(t){return this.flagDeopt$(),this.flagSelf$(t)}flagSync$(){return this.className=(this.flags$ns||"")+(this.flags$ext||"")+" "+(this.flags$own||"")+" "+(this.$flags||"")}set$(t,e){let r=Ct(this,t,D);!r||!r.set?this.setAttribute(t,e):this[t]=e}get richValue(){return this.value}set richValue(t){this.value=t}};bt(D.prototype,Nr.prototype);D.prototype.setns$=D.prototype.setAttributeNS;D.prototype[ks]=!0;function G(i,t,e,r){let s=globalThis.document.createElement(i);return e&&(s.className=e),r!==null&&s.text$(r),t&&t[ce]&&t[ce](s),s}var Cr=class{set$(t,e){var r;let s=vr[r=this.nodeName]||(vr[r]={}),n=wr(this,t,s);!n||!n.set?this.setAttribute(t,e):this[t]=e}flag$(t){let e=this.flags$ns;this.setAttribute("class",e?e+(this.flags$ext=t):this.flags$ext=t)}flagSelf$(t){var e=this;return e.flag$=function(r){return e.flagSync$(e.flags$ext=r)},e.flagSelf$=function(r){return e.flagSync$(e.flags$own=r)},e.flagSelf$(t)}flagSync$(){return this.setAttribute("class",(this.flags$ns||"")+(this.flags$ext||"")+" "+(this.flags$own||"")+" "+(this.$flags||""))}};bt(xr.prototype,Cr.prototype);var Or=class{set src(t){if((this[yr]!=t?(this[yr]=t,!0):!1)&&t){if(t.adoptNode)t.adoptNode(this);else if(t.content){for(let e=t.attributes,r=0,s=Object.keys(e),n=s.length,o,l;r<n;r++)o=s[r],l=e[o],this.setAttribute(o,l);this.innerHTML=t.content}}}};bt(SVGSVGElement.prototype,Or.prototype);function yt(i){return globalThis.document.createComment(i)}function ye(i){return globalThis.document.createTextNode(i)}var Bt=globalThis.navigator,As=Bt&&Bt.vendor||"",Fr=Bt&&Bt.userAgent||"",Rs=As.indexOf("Apple")>-1||Fr.indexOf("CriOS")>=0||Fr.indexOf("FxiOS")>=0,Ht=!Rs,Pr=new Map,kr=class extends Rt{connectedCallback(){return Ht?this.parentNode.removeChild(this):this.parentNode.connectedCallback()}disconnectedCallback(){if(!Ht)return this.parentNode.disconnectedCallback()}};window.customElements.define("i-hook",kr);function Bs(i,t){let e=Pr.get(t);if(!e){e={};let r=t.prototype,s=[r];for(;(r=r&&Object.getPrototypeOf(r))&&r.constructor!=i.constructor;)s.unshift(r);for(let n=0,o=Ss(s),l=o.length;n<l;n++){let h=o[n],a=Object.getOwnPropertyDescriptors(h);Object.assign(e,a)}Pr.set(t,e)}return e}function Dr(i,t,e,r,s){let n;typeof i!="string"&&i&&i.nodeName&&(i=i.nodeName);let o=be[i]||i;if(me[i]){let l=me[i],h=l.prototype[Mt];if(h&&Ht)n=globalThis.document.createElement(h,{is:i});else if(l.create$&&h){n=globalThis.document.createElement(h),n.setAttribute("is",o);let a=Bs(n,l);Object.defineProperties(n,a),n.__slots={},n.appendChild(globalThis.document.createElement("i-hook"))}else l.create$?(n=l.create$(n),n.__slots={}):console.warn("could not create tag "+i)}else n=globalThis.document.createElement(be[i]||i);return n[mr]=t,n[hr](),n[ur](),r!==null&&n[Ds]("__").text$(r),(e||n.flags$ns)&&n.flag$(e||""),n}function Ir(i,t,e={}){Ms[i]=ge[i]=t,t.nodeName=i;let r=i,s=t.prototype;if(i.indexOf("-")==-1&&(r=""+i+"-tag",be[i]=r),e.cssns){let n=(s._ns_||s[_r]||"")+" "+(e.cssns||"");s._ns_=n.trim()+" ",s[_r]=e.cssns}if(e.cssid){let n=(s.flags$ns||"")+" "+e.cssid;s[Is]=e.cssid,s.flags$ns=n.trim()+" "}return s[Mt]&&!e.extends&&(e.extends=s[Mt]),e.extends?(s[Mt]=e.extends,me[i]=t,Ht&&window.customElements.define(r,t,{extends:e.extends})):window.customElements.define(r,t),t}var Hs=globalThis.imba||(globalThis.imba={});Hs.document=globalThis.document;function _e(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}function Us(i,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,Object.defineProperties(i,e),i}var Ut=Symbol.for("#parent"),Lr=Symbol.for("#closestNode"),Gs=Symbol.for("#isRichElement"),Vs=Symbol.for("#afterVisit"),Mr=Symbol.for("#__initor__"),jr=Symbol.for("#__inited__"),Ar=Symbol.for("#__hooks__"),Rr=Symbol.for("#appendChild"),Br=Symbol.for("#removeChild"),A=Symbol.for("#insertInto"),Gt=Symbol.for("#replaceWith"),Hr=Symbol.for("#insertChild"),Vt=Symbol.for("#removeFrom"),Ur=Symbol.for("#placeChild"),Gr=Symbol.for("#__init__"),qs=Symbol.for("#registerFunctionalSlot"),zs=Symbol.for("#getFunctionalSlot"),Vr=Symbol.for("#getSlot"),$e=Symbol.for("##parent"),qt=Symbol.for("##up"),qr=Symbol.for("##flags"),Ys=Symbol.for("#domFlags"),F=Symbol.for("#end"),zr=Symbol.for("#textContent"),zt=Symbol.for("#textNode"),Se=Symbol.for("#functionalSlots"),Yr=Symbol();var _t=class{constructor(){this.childNodes=[]}log(...t){}hasChildNodes(){return!1}set[Ut](t){this[$e]=t}get[Ut](){return this[$e]||this[qt]}get[Lr](){return this[Ut][Lr]}get[Gs](){return!0}get flags(){return this[qr]||(this[qr]=new mt(this))}flagSync$(){return this}[Vs](){return this}},Ks=0,xe=class extends _t{static[Gr](){return this.prototype[Mr]=Yr,this}constructor(t,e){super(...arguments);this[qt]=e,this.parentNode=null,this[Ys]=t,this.childNodes=[],this[F]=yt("slot"+Ks++),e&&e[Rr](this),this[Mr]===Yr&&(this[Ar]&&this[Ar].inited(this),this[jr]&&this[jr]())}get[Ut](){return this[$e]||this.parentNode||this[qt]}set textContent(t){this[zr]=t}get textContent(){return this[zr]}hasChildNodes(){for(let t=0,e=_e(this.childNodes),r=e.length;t<r;t++){let s=e[t];if(s instanceof _t&&s.hasChildNodes())return!0;if(!(s instanceof At)){if(s instanceof Q)return!0}}return!1}text$(t){return this[zt]?this[zt].textContent=t:this[zt]=this[Ur](t),this[zt]}appendChild(t){return this.parentNode&&t[A](this.parentNode,this[F]),this.childNodes.push(t)}[Rr](t){return this.parentNode&&t[A](this.parentNode,this[F]),this.childNodes.push(t)}insertBefore(t,e){this.parentNode&&this.parentNode[Hr](t,e);let r=this.childNodes.indexOf(e);return r>=0&&this.childNodes.splice(r,0,t),t}[Br](t){this.parentNode&&this.parentNode[Br](t);let e=this.childNodes.indexOf(t);e>=0&&this.childNodes.splice(e,1)}[A](t,e){let r=this.parentNode;if(this.parentNode!=t?(this.parentNode=t,!0):!1){this[F]&&(e=this[F][A](t,e));for(let s=0,n=_e(this.childNodes),o=n.length;s<o;s++)n[s][A](t,e)}return this}[Gt](t,e){let r=t[A](e,this[F]);return this[Vt](e),r}[Hr](t,e){if(this.parentNode&&this.insertBefore(t,e||this[F]),e){let r=this.childNodes.indexOf(e);r>=0&&this.childNodes.splice(r,0,t)}else this.childNodes.push(t);return t}[Vt](t){for(let e=0,r=_e(this.childNodes),s=r.length;e<s;e++)r[e][Vt](t);return this[F]&&this[F][Vt](t),this.parentNode=null,this}[Ur](t,e,r){let s=this.parentNode,n=typeof t;if(n==="undefined"||t===null){if(r&&r instanceof At)return r;let o=yt("");if(r){let l=this.childNodes.indexOf(r);return this.childNodes.splice(l,1,o),s&&r[Gt](o,s),o}return this.childNodes.push(o),s&&o[A](s,this[F]),o}if(t===r)return t;if(n!=="object"){let o,l=t;if(r){if(r instanceof pe)return r.textContent=l,r;{o=ye(l);let h=this.childNodes.indexOf(r);return this.childNodes.splice(h,1,o),s&&r[Gt](o,s),o}}else return this.childNodes.push(o=ye(l)),s&&o[A](s,this[F]),o}else if(r){let o=this.childNodes.indexOf(r);return this.childNodes.splice(o,1,t),s&&r[Gt](t,s),t}else return this.childNodes.push(t),s&&t[A](s,this[F]),t}};xe[Gr]();function Kr(i,t){let e=new xe(i,null);return e[qt]=t,e}var Wr=class{[qs](t){let e=this[Se]||(this[Se]={});return e[t]||(e[t]=Kr(0,this))}[zs](t,e){let r=this[Se];return r&&r[t]||this[Vr](t,e)}[Vr](t,e){var r;return t=="__"&&!this.render?this:(r=this.__slots)[t]||(r[t]=Kr(0,this))}};Us(Q.prototype,Wr.prototype);function Ws(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}var Js=Symbol.for("#afterVisit"),Yt=Symbol.for("#insertInto"),Jr=Symbol.for("#appendChild"),Qs=Symbol.for("#replaceWith"),ve=Symbol.for("#removeFrom"),Qr=Symbol.for("#__initor__"),Xr=Symbol.for("#__inited__"),Zr=Symbol.for("#__hooks__"),ti=Symbol.for("#__init__"),Xs=Symbol.for("#domFlags"),Zs=Symbol.for("##parent"),V=Symbol.for("#end"),tn=Symbol.for("#removeChild"),en=Symbol.for("#insertChild"),ei=Symbol(),we=class extends _t{static[ti](){return this.prototype[Qr]=ei,this}constructor(t,e){super(...arguments);this[Xs]=t,this[Zs]=e,t&256||(this[V]=yt("list")),this.$=this.childNodes,this.length=0,e&&e[Jr](this),this[Qr]===ei&&(this[Zr]&&this[Zr].inited(this),this[Xr]&&this[Xr]())}hasChildNodes(){return this.length!=0}[Js](t){let e=this.length;if(this.length=t,e==t)return;let r=this.parentNode;if(!r)return;let s=this.childNodes,n=this[V];if(e>t)for(;e>t;)r[tn](s[--e]);else if(t>e)for(;t>e;)r[en](s[e++],n);this.length=t}[Yt](t,e){this.parentNode=t,this[V]&&this[V][Yt](t,e),e=this[V];for(let r=0,s=Ws(this.childNodes),n=s.length;r<n;r++){let o=s[r];if(r==this.length)break;o[Yt](t,e)}return this}[Jr](t){}[Qs](t,e){let r=t[Yt](e,this[V]);return this[ve](e),r}[ve](t){let e=this.length;for(;e>0;)this.childNodes[--e][ve](t);this[V]&&t.removeChild(this[V]),this.parentNode=null}};we[ti]();function ri(i,t){return new we(i,t)}function rn(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}var Kt=Symbol.for("#__init__"),sn=Symbol.for("#__patch__"),nn=Symbol.for("##inited"),on=Symbol.for("#afterVisit"),ln=Symbol.for("#beforeReconcile"),hn=Symbol.for("#afterReconcile"),Te=Symbol.for("#count"),ii=Symbol.for("#__hooks__"),ot=Symbol.for("#autorender"),un=new class{[sn](i={}){var t;(t=i.items)!==void 0&&(this.items=t),(t=i.current)!==void 0&&(this.current=t),(t=i.lastQueued)!==void 0&&(this.lastQueued=t),(t=i.tests)!==void 0&&(this.tests=t)}constructor(i=null){this[Kt](i)}[Kt](i=null){var t;this.items=i&&(t=i.items)!==void 0?t:[],this.current=i&&(t=i.current)!==void 0?t:null,this.lastQueued=i&&(t=i.lastQueued)!==void 0?t:null,this.tests=i&&(t=i.tests)!==void 0?t:0}flush(){let i=null;for(;i=this.items.shift();){if(!i.parentNode||i.hydrated\u03A6)continue;let t=this.current;this.current=i,i.__F|=1024,i.connectedCallback(),this.current=t}}queue(i){var t=this;let e=this.items.length,r=0,s=this.lastQueued;this.lastQueued=i;let n=Q.DOCUMENT_POSITION_PRECEDING,o=Q.DOCUMENT_POSITION_FOLLOWING;if(e){let l=this.items.indexOf(s),h=l,a=function(u,y){return t.tests++,u.compareDocumentPosition(y)};(l==-1||s.nodeName!=i.nodeName)&&(h=l=0);let _=t.items[h];for(;_&&a(_,i)&o;)_=t.items[++h];if(h!=l)_?t.items.splice(h,0,i):t.items.push(i);else{for(;_&&a(_,i)&n;)_=t.items[--h];h!=l&&(_?t.items.splice(h+1,0,i):t.items.unshift(i))}}else t.items.push(i),t.current||globalThis.queueMicrotask(t.flush.bind(t))}run(i){var t,e;if(this.active)return;this.active=!0;let r=globalThis.document.querySelectorAll(".__ssr");console.log("running hydrator",i,r.length,Array.from(r));for(let s=0,n=rn(r),o=n.length;s<o;s++){let l=n[s];l[Te]||(l[Te]=1),l[Te]++;let h=l.nodeName,a=(e=this.map)[h]||(e[h]=globalThis.window.customElements.get(h.toLowerCase())||Rt);console.log("item type",h,a,!!ge[h.toLowerCase()]),!(!l.connectedCallback||!l.parentNode||l.hydrated\u03A6)&&console.log("hydrate",l)}return this.active=!1}};var Ee=class extends Rt{constructor(){super();this.flags$ns&&(this.flag$=this.flagExt$),this.setup$(),this.build()}setup$(){return this.__slots={},this.__F=0}[Kt](){return this.__F|=1|2,this}[nn](){if(this[ii])return this[ii].inited(this)}flag$(t){this.className=this.flags$ext=t}build(){return this}awaken(){return this}mount(){return this}unmount(){return this}rendered(){return this}dehydrate(){return this}hydrate(){return this.autoschedule=!0,this}tick(){return this.commit()}visit(){return this.commit()}commit(){return this.render\u03A6?(this.__F|=256,this.render&&this.render(),this.rendered(),this.__F=(this.__F|512)&~256&~8192):(this.__F|=8192,this)}get autoschedule(){return(this.__F&64)!=0}set autoschedule(t){t?this.__F|=64:this.__F&=~64}set autorender(t){let e=this[ot]||(this[ot]={});e.value=t,this.mounted\u03A6&&T.schedule(this,e)}get render\u03A6(){return!this.suspended\u03A6}get mounting\u03A6(){return(this.__F&16)!=0}get mounted\u03A6(){return(this.__F&32)!=0}get awakened\u03A6(){return(this.__F&8)!=0}get rendered\u03A6(){return(this.__F&512)!=0}get suspended\u03A6(){return(this.__F&4096)!=0}get rendering\u03A6(){return(this.__F&256)!=0}get scheduled\u03A6(){return(this.__F&128)!=0}get hydrated\u03A6(){return(this.__F&2)!=0}get ssr\u03A6(){return(this.__F&1024)!=0}schedule(){return T.on("commit",this),this.__F|=128,this}unschedule(){return T.un("commit",this),this.__F&=~128,this}async suspend(t=null){let e=this.flags.incr("_suspended_");return this.__F|=4096,t instanceof Function&&(await t(),this.unsuspend()),this}unsuspend(){return this.flags.decr("_suspended_")==0&&(this.__F&=~4096,this.commit()),this}[on](){return this.visit()}[ln](){return this.__F&1024&&(this.__F=this.__F&~1024,this.classList.remove("_ssr_"),this.flags$ext&&this.flags$ext.indexOf("_ssr_")==0&&(this.flags$ext=this.flags$ext.slice(5)),this.__F&512||(this.innerHTML="")),this}[hn](){return this}connectedCallback(){let t=this.__F,e=t&1,r=t&8;if(!e&&!(t&1024)){un.queue(this);return}if(t&(16|32))return;this.__F|=16,e||this[Kt](),t&2||(this.flags$ext=this.className,this.__F|=2,this.hydrate(),this.commit()),r||(this.awaken(),this.__F|=8),B(this,"mount");let s=this.mount();return s&&s.then instanceof Function&&s.then(T.commit),t=this.__F=(this.__F|32)&~16,t&64&&this.schedule(),this[ot]&&T.schedule(this,this[ot]),this}disconnectedCallback(){if(this.__F=this.__F&(~32&~16),this.__F&128&&this.unschedule(),B(this,"unmount"),this.unmount(),this[ot])return T.unschedule(this,this[ot])}};var an=Symbol.for("#insertInto"),si=Symbol.for("#removeFrom");function Ne(i,t){let e=t||globalThis.document.body,r=i;if(i instanceof Function){let s=new H(e,null),n=function(){let o=O.context;O.context=s;let l=i(s);return O.context==s&&(O.context=o),l};r=n(),T.listen("commit",n)}else r.__F|=64;return r[an](e),r}function cn(i){return i&&i[si]&&i[si](i.parentNode),i}var ni=globalThis.imba||(globalThis.imba={});ni.mount=Ne;ni.unmount=cn;function fn(i,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,Object.defineProperties(i,e),i}function oi(){return!0}var li=class{\u03B1esc(){return this.keyCode==27}\u03B1tab(){return this.keyCode==9}\u03B1enter(){return this.keyCode==13}\u03B1space(){return this.keyCode==32}\u03B1up(){return this.keyCode==38}\u03B1down(){return this.keyCode==40}\u03B1left(){return this.keyCode==37}\u03B1right(){return this.keyCode==39}\u03B1del(){return this.keyCode==8||this.keyCode==46}\u03B1key(t){if(typeof t=="string")return this.key==t;if(typeof t=="number")return this.keyCode==t}};fn(Sr.prototype,li.prototype);function dn(i,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,Object.defineProperties(i,e),i}function Wt(){return!0}var hi=class{\u03B1left(){return this.button==0}\u03B1middle(){return this.button==1}\u03B1right(){return this.button==2}\u03B1shift(){return!!this.shiftKey}\u03B1alt(){return!!this.altKey}\u03B1ctrl(){return!!this.ctrlKey}\u03B1meta(){return!!this.metaKey}\u03B1mod(){let t=globalThis.navigator.platform;return/^(Mac|iPhone|iPad|iPod)/.test(t||"")?!!this.metaKey:!!this.ctrlKey}};dn($r.prototype,hi.prototype);function Ce(i,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,Object.defineProperties(i,e),i}function ui(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}var pn=Symbol.for("#extendType"),mn=Symbol.for("#modifierState"),Jt=Symbol.for("#sharedModifierState"),ai=Symbol.for("#onceHandlerEnd"),zo=Symbol.for("#__initor__"),Yo=Symbol.for("#__inited__"),Ko=Symbol.for("#__hooks__"),ci=Symbol.for("#extendDescriptors"),C=Symbol.for("#context"),fi=Symbol.for("#self"),bn=Symbol.for("#target"),di=Symbol.for("#stopPropagation"),pi=Symbol.for("#defaultPrevented");oi();Wt();var mi=class{[pn](t){var e,r,s;let n=t[ci]||(t[ci]=(r=Object.getOwnPropertyDescriptors(t.prototype),s=r.constructor,delete r.constructor,r));return Object.defineProperties(this,n)}};Ce(jt.prototype,mi.prototype);var bi=class{get[mn](){var t,e;return(t=this[C])[e=this[C].step]||(t[e]={})}get[Jt](){var t,e;return(t=this[C].handler)[e=this[C].step]||(t[e]={})}[ai](t){return dt(this[C],"end",t)}\u03B1sel(t){return!!this.target.matches(String(t))}\u03B1closest(t){return!!this.target.closest(String(t))}\u03B1log(...t){return console.info(...t),!0}\u03B1trusted(){return!!this.isTrusted}\u03B1if(t){return!!t}\u03B1wait(t=250){return new Promise(function(e){return setTimeout(e,ct(t))})}\u03B1self(){return this.target==this[C].element}\u03B1cooldown(t=250){let e=this[Jt];return e.active?!1:(e.active=!0,e.target=this[C].element,e.target.flags.incr("cooldown"),this[ai](function(){return setTimeout(function(){return e.target.flags.decr("cooldown"),e.active=!1},ct(t))}),!0)}\u03B1throttle(t=250){let e=this[Jt];return e.active?(e.next&&e.next(!1),new Promise(function(r){return e.next=function(s){return e.next=null,r(s)}})):(e.active=!0,e.el||(e.el=this[C].element),e.el.flags.incr("throttled"),dt(this[C],"end",function(){let r=ct(t);return e.interval=setInterval(function(){e.next?e.next(!0):(clearInterval(e.interval),e.el.flags.decr("throttled"),e.active=!1)},r)}),!0)}\u03B1debounce(t=250){let e=this[Jt],r=this;return e.queue||(e.queue=[]),e.queue.push(e.last=r),new Promise(function(s){return setTimeout(function(){return e.last==r?(r.debounced=e.queue,e.last=null,e.queue=[],s(!0)):s(!1)},ct(t))})}\u03B1flag(t,e){let{element:r,step:s,state:n,id:o,current:l}=this[C],h=e instanceof D?e:e?r.closest(e):r;if(!h)return!0;this[C].commit=!0,n[s]=o,h.flags.incr(t);let a=Date.now();return dt(l,"end",function(){let _=Date.now()-a,u=Math.max(250-_,0);return setTimeout(function(){return h.flags.decr(t)},u)}),!0}\u03B1busy(t){return this.\u03B1flag("busy",t)}\u03B1mod(t){return this.\u03B1flag("mod-"+t,globalThis.document.documentElement)}\u03B1outside(){let{handler:t}=this[C];if(t&&t[fi])return!t[fi].parentNode.contains(this.target)}};Ce(J.prototype,bi.prototype);function gi(){return!0}var yi=class{constructor(t,e){this.params=t,this.closure=e}getHandlerForMethod(t,e){return t?t[e]?t:this.getHandlerForMethod(t.parentNode,e):null}emit(t,...e){return B(this,t,e)}on(t,...e){return ft(this,t,...e)}once(t,...e){return dt(this,t,...e)}un(t,...e){return Ge(this,t,...e)}get passive\u03A6(){return this.params.passive}get capture\u03A6(){return this.params.capture}get silent\u03A6(){return this.params.silent}get global\u03A6(){return this.params.global}async handleEvent(t){let e=this[bn]||t.currentTarget,r=this.params,s=null,n=r.silence||r.silent;this.count||(this.count=0),this.state||(this.state={});let o={element:e,event:t,modifiers:r,handler:this,id:++this.count,step:-1,state:this.state,commit:null,current:null};if(o.current=o,t.handle$mod&&t.handle$mod.apply(o,r.options||[])==!1)return;let l=J[this.type+"$handle"]||J[t.type+"$handle"]||t.handle$mod;if(!(l&&l.apply(o,r.options||[])==!1)){this.currentEvents||(this.currentEvents=new Set),this.currentEvents.add(t);for(let h=0,a=Object.keys(r),_=a.length,u,y;h<_;h++){if(u=a[h],y=r[u],o.step++,u[0]=="_")continue;u.indexOf("~")>0&&(u=u.split("~")[0]);let M=null,x=[t,o],w,N=null,et,j=!1,Tt=typeof u=="string";if(u[0]=="$"&&u[1]=="_"&&y[0]instanceof Function)u=y[0],u.passive||(o.commit=!0),x=[t,o].concat(y.slice(1)),N=e;else if(y instanceof Array){x=y.slice(),M=x;for(let $=0,v=ui(x),rt=v.length;$<rt;$++){let K=v[$];if(typeof K=="string"&&K[0]=="~"&&K[1]=="$"){let Be=K.slice(2).split("."),Et=o[Be.shift()]||t;for(let oe=0,He=ui(Be),us=He.length;oe<us;oe++){let as=He[oe];Et=Et?Et[as]:void 0}x[$]=Et}}}if(typeof u=="string"&&(et=u.match(/^(emit|flag|mod|moved|pin|fit|refit|map|remap|css)-(.+)$/))&&(M||(M=x=[]),x.unshift(et[2]),u=et[1]),u=="trap")t[di]=!0,t.stopImmediatePropagation(),t[pi]=!0,t.preventDefault();else if(u=="stop")t[di]=!0,t.stopImmediatePropagation();else if(u=="prevent")t[pi]=!0,t.preventDefault();else if(u=="commit")o.commit=!0;else if(u=="once")e.removeEventListener(t.type,this);else{if(u=="options"||u=="silence"||u=="silent")continue;if(u=="emit"){let $=x[0],v=x[1],rt=new jt($,{bubbles:!0,detail:v});rt.originalEvent=t;let K=e.dispatchEvent(rt)}else if(typeof u=="string"){u[0]=="!"&&(j=!0,u=u.slice(1));let $="\u03B1"+u,v=t[$];v||(v=this.type&&J[this.type+"$"+u+"$mod"]),v||(v=t[u+"$mod"]||J[t.type+"$"+u]||J[u+"$mod"]),v instanceof Function?(u=v,N=o,x=M||[],t[$]&&(N=t,t[C]=o)):u[0]=="_"?(u=u.slice(1),N=this.closure):N=this.getHandlerForMethod(e,u)}}try{u instanceof Function?w=u.apply(N||e,x):N&&(w=N[u].apply(N,x)),w&&w.then instanceof Function&&w!=T.$promise&&(o.commit&&!n&&T.commit(),w=await w)}catch($){s=$;break}if(j&&w===!0||!j&&w===!1)break;o.value=w}if(B(o,"end",o),o.commit&&!n&&T.commit(),this.currentEvents.delete(t),this.currentEvents.size==0&&this.emit("idle"),s)throw s}}},_i=class{on$(t,e,r){let s="on$"+t,n;n=new yi(e,r);let o=e.capture||!1,l=e.passive,h=o;return l&&(h={passive:l,capture:o}),this[s]instanceof Function?n=this[s](e,r,n,h):this.addEventListener(t,n,h),n}};Ce(D.prototype,_i.prototype);function $t(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}function Oe(i,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,Object.defineProperties(i,e),i}var Jo=Symbol.for("#__initor__"),Qo=Symbol.for("#__inited__"),Xo=Symbol.for("#__hooks__"),Fe=Symbol.for("##reactive"),X=Symbol.for("##referenced"),St=Symbol.for("##dereferenced"),Zo=Symbol.for("#map"),tl=Symbol.for("#__init__"),el=Symbol.for("#__patch__"),$i=Symbol.for("#child"),xt=Symbol.for("#reactions"),q={TOUCHING:1<<1,STALE:1<<2,OBJECT:1<<3,RUNNING:1<<4,INVALIDATING:1<<5,POSSIBLY_STALE:1<<6,AUTORUN:1<<7},Z=0;var gn=0;var Pe={META:new Map,VALUE:new Map,REF:new Map},lt=Symbol.for("~"),rl=Symbol.for("~~"),ke=function(i,t){return t.has(i)||t.set(i,Symbol()),t.get(i)},Si=function(i){return typeof i=="symbol"?ke(i,Pe.VALUE):Symbol.for(i)},xi=function(i){return typeof i=="symbol"?ke(i,Pe.META):Symbol.for("#"+i+"__")},vi=function(i){return typeof i=="symbol"?ke(i,Pe.REF):Symbol.for("~"+i)},E=function(i,t){return Z&&S.add(i[lt]),t},P=function(i,t){return i[lt].invalidated(0),t},ht=function(i,t,e){let r=i[lt];return r||(r=i[lt]=new De(q.OBJECT),Object.defineProperties(i,e)),t&&r.addSubscriber(t),i},Ie=function(i,t){let e=i[lt];return e&&e.removeSubscriber(t),i},wi=class{constructor(t){this.changes=new Map,this.cleanup(),t&&this.reset(t)}reset(t=[]){return this.array=t,this.initialLength=t.length}cleanup(){return this.idx=0,this.array=null,this.changes.clear(),this.dirty=!1}push(t){if(this.initialLength==0){this.array.indexOf(t)<0&&(this.changes.set(t,1),this.array.push(t),this.idx++);return}let e=this.array[this.idx];if(e===t)return++this.idx;{let r=this.array.indexOf(t),s=this.changes.get(t);if(r===-1)this.array.splice(this.idx,0,t),this.changes.set(t,1),this.idx++;else if(r===this.idx+1)e&&this.changes.set(e,-1),this.array.splice(this.idx,1),++this.idx;else{if(r<this.idx)return;r>this.idx&&this.array.splice(r,1),this.array.splice(this.idx,0,t)}if(s==-1)return this.changes.delete(t)}}end(){if(this.array.length>=this.idx)for(;this.array.length>this.idx;)this.changes.set(this.array.pop(),-1);return this.array}patch(){return this.end()}};function Le(i){var t,e;let r=Object.getOwnPropertyDescriptors(i.prototype);return t=r.name,delete r.name,e=r.constructor,delete r.constructor,r}var Qt=class{constructor(t,e=0){this.depth=e,this.parent=t,this.target=null,this.patcher=new wi}get active\u03A6(){return S==this}get root\u03A6(){return this==ut}reset(t){return this.tracking=!0,this.target=t,this.beacon=t.beacon,this.patcher.reset(t.observing||(t.observing=[])),this}add(t){if(this.tracking&&t)return this.patcher.push(t)}react(t){return ut.reactions.add(t)}push(t){return S=this.child.reset(t)}pop(){let t=null;if(this.beacon){t=this.patcher.end();let e=this.patcher.changes;if(e.size)for(let[s,n]of $t(e))n===1?s.addSubscriber(this.beacon):s.removeSubscriber(this.beacon)}return this.patcher.cleanup(),this.target=this.beacon=null,S=this.parent,S==ut&&ut.flush(),t}get child(){return this[$i]||(this[$i]=new Qt(this,this.depth+1))}get reactions(){return this[xt]||(this[xt]=new Set)}flush(){if(!this[xt])return;let t=this[xt];this[xt]=null;for(let e of $t(t))e.call()}},Ti=class extends Qt{add(){return!0}},S=new Ti(null,0),ut=S;var yn=function(i,t,e,r,s){let n=i[e],o=i[s];return o||(o=i[s]=new De(0,r,n)),S.add(o,i),n},_n=function(i,t,e,r,s,n){let o=i[e];if(r!=o){i[e]=r;let l=i[n];l&&l.changed(0,r,o)}},De=class{constructor(t,e,r){return this.observer=null,this.observers=null,r&&r[X]&&r[X](this),this}changed(t,e,r){if(gn++,r&&r[St]&&r[St](this,e),e&&e[X]&&e[X](this,r),this.observer&&this.observer.invalidated(t+1,this,e,r),this.observers)for(let s=0,n=$t(this.observers),o=n.length;s<o;s++)n[s].invalidated(t+1,this,e,r);S==ut&&S.flush()}invalidated(t,e){if(this.observer&&this.observer.invalidated(t+1,this),this.observers)for(let r=0,s=$t(this.observers),n=s.length;r<n;r++)s[r].invalidated(t+1,this);return t==0&&S==ut&&S.flush(),!0}addSubscriber(t){this.observer?(this.observers||(this.observers=[]),this.observers.push(t)):this.observer=t}removeSubscriber(t){if(this.observer==t)return this.observer=null;let e=this.observers,r=e.indexOf(this);r>=0&&e.splice(r,1)}},Ei=class extends Array{push(){return P(this,super.push(...arguments))}pop(){return P(this,super.pop(...arguments))}unshift(){return P(this,super.unshift(...arguments))}shift(){return P(this,super.shift(...arguments))}splice(){return P(this,super.splice(...arguments))}map(){return E(this,super.map(...arguments))}filter(){return E(this,super.filter(...arguments))}find(){return E(this,super.find(...arguments))}slice(){return E(this,super.slice(...arguments))}get len(){return E(this,this.length)}set len(t){this.length=t,P(this)}toIterable(){return Z&&S.add(this[lt]),this}},Ni=Le(Ei),Ci=class{get len(){return this.length}set len(t){this.length=t}get[Fe](){return ht(this,null,Ni)}[X](t){return ht(this,t,Ni)}[St](t){return Ie(this,t)}};Oe(Array.prototype,Ci.prototype);var Oi=class extends Set{has(){return E(this,super.has(...arguments))}keys(){return E(this,super.keys(...arguments))}values(){return E(this,super.values(...arguments))}entries(){return E(this,super.entries(...arguments))}add(){return P(this,super.add(...arguments))}clear(){return P(this,super.clear(...arguments))}delete(){return P(this,super.delete(...arguments))}},Fi=Le(Oi),Pi=class{get[Fe](){return ht(this,null,Fi)}[X](t){return ht(this,t,Fi)}[St](t){return Ie(this,t)}};Oe(Set.prototype,Pi.prototype);var ki=class extends Map{get(){return E(this,super.get(...arguments))}has(){return E(this,super.has(...arguments))}keys(){return E(this,super.keys(...arguments))}values(){return E(this,super.values(...arguments))}entries(){return E(this,super.entries(...arguments))}set(){return P(this,super.set(...arguments))}clear(){return P(this,super.clear(...arguments))}delete(){return P(this,super.delete(...arguments))}},Di=Le(ki),Ii=class{get[Fe](){return ht(this,null,Di)}[X](t){return ht(this,t,Di)}[St](t){return Ie(this,t)}};Oe(Map.prototype,Ii.prototype);var Li=class{constructor(t,e,r={}){var s=this,n;this.name=t,this.key=e,this.options=r;let o=vi(t),l=s.descriptor={enumerable:(n=r.enumerable)!=null?n:!0,configurable:!1,get:function(){return Z?yn(this,t,e,s,o):this[e]},set:function(a){return Z||!!this[o]?_n(this,t,e,a,s,o):this[e]=a}},h=s.lazyDescriptor={enumerable:!1,configurable:!0,get:function(){return this[e]},set:function(a){return this[e]=a,this[o]=null,Object.defineProperty(this,t,l)}}}};var Mi=class{constructor(t,e,r){this.observing=null,this.observers=null,this.flags=68,this.target=t,this.func=e,this.vkey=r,this.version=0}get beacon(){return this}addSubscriber(t){this.observer?(this.observers||(this.observers=[]),this.observers.push(t)):this.observer=t}removeSubscriber(t){if(this.observer==t)return this.observer=null;let e=this.observers,r=e.indexOf(this);r>=0&&e.splice(r,1)}invalidated(t,e){if(this.flags|=q.STALE|q.POSSIBLY_STALE,this.observer&&this.observer.invalidated(t,this),!!this.observers){for(let r=0,s=$t(this.observers),n=s.length;r<n;r++)s[r].invalidated(t,this);return this}}value(){if(Z&&S.add(this),(this.flags&q.POSSIBLY_STALE)==0)return this.target[this.vkey];Z++,this.flags|=q.RUNNING,S.push(this);let t=this.func.call(this.target);S.pop(this);let e=this.target[this.vkey];return this.target[this.vkey]=t,this.flags&=~(q.STALE|q.POSSIBLY_STALE|q.RUNNING),t!==e&&this.version++,Z--,t}},ji=class{constructor(t,e){this.name=t;let r=vi(t),s=Si(t),n=this.descriptor={enumerable:!1,configurable:!1,get:function(){return this[r].value()}},o=this.lazyDescriptor={enumerable:!1,get:function(){let l=this[r]=new Mi(this,e,s);return Object.defineProperty(this,t,n),l.value()}}}};var Ai=class{constructor(t,e){this.context=e,this.cb=t}run(t=this.context,e=[]){S.push(this);let r=this.cb.apply(t,e);return S.pop(this),r}};function Xt(i,t,e){let r=xi(t);return(i[r]=new ji(t,e.get)).lazyDescriptor}function at(i,t,e){let r=xi(t),s=Si(t),n=this[0]||{},o=i[r]=new Li(t,s,n);return e?(Object.defineProperty(i,s,Object.assign({},e)),o.lazyDescriptor):(Object.defineProperty(i,t,o.lazyDescriptor),null)}function Zt(i,t,e){if(e.value){let r=new Ai(e.value,null);e.value=function(){return r.run(this,arguments)}}return e}var te=Symbol.for("#__init__"),$n=Symbol.for("#__patch__"),ol=Symbol.for("#__initor__"),ll=Symbol.for("#__inited__"),hl=Symbol.for("#__hooks__"),R=class{static[te](){return this.None=new R("<None>"),this}[$n](t={}){var e;(e=t.title)!==void 0&&(this.title=e),(e=t.progress)!==void 0&&(this.progress=e)}[te](t=null){this.title=t?t.title:void 0,this.progress=t?t.progress:void 0}constructor(t){this[te](),this.title=t,this.progress=0}};R[te]();var Sn="Expeting to get a cb function as the first argument",Ri="Delay argument should be a number >= 0",xn="Timeout was already started",Me=class{constructor(t,e){this._pending=!1;this._canceled=!1;this._paused=!1;let r=typeof t=="number"?t:e;if(typeof r!="number"||r<0)throw new Error(Ri);this._delay=r,this._timeLeft=r,typeof t!="number"&&this.start(t)}get isPending(){return this._pending}get isStarted(){return this._startTime!=null}get isCanceled(){return this._canceled}get isFinished(){return!this.isPending&&!this._canceled}get isFinishedPreemptively(){return this.isFinished&&this._timeLeft>0}get timeLeft(){return!this._pending||this._paused?this._timeLeft:this._delay-(new Date().getTime()-this._startTime)}get timePassed(){return this._delay-this.timeLeft}_run(){this._startTime=new Date().getTime(),this._pending=!0,this._canceled=!1,this._paused=!1,this._to=setTimeout(()=>{this._to=null,this._pending=!1,this._timeLeft=0,this._cb()},this._timeLeft)}_halt(){this._to&&(clearTimeout(this._to),this._to=null),this._timeLeft=this.timeLeft}start(t){if(t!=null){if(typeof t!="function")throw new Error(Sn);return this._pending?!1:(this._cb=t,this._run(),!0)}else return new Promise((e,r)=>{if(this._pending)return r(xn);this._cb=e,this._run()})}cancel(){return this._pending?(this._halt(),this._pending=!1,this._canceled=!0,!0):!1}execute(){return this._pending?(this._halt(),this._pending=!1,this._cb(),!0):!1}pause(){return!this._pending||this._paused?!1:(this._halt(),this._paused=!0,!0)}resume(){return!this._pending||!this._paused?!1:(this._run(),!0)}get paused(){return this._paused}set paused(t){t?this.pause():this.resume()}reset(t){if(t==null&&(t=this._delay),typeof t!="number"||t<0)throw new Error(Ri);if(this.isStarted){if(!this.isPending)return!1;this._halt(),this._delay=t,this._timeLeft=t,this._run()}else this._delay=t,this._timeLeft=t;return!0}get delay(){return this._delay}};function z(i,t,e,r){var s=arguments.length,n=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(i,t,e,r);else for(var l=i.length-1;l>=0;l--)(o=i[l])&&(n=(s<3?o(n):s>3?o(t,e,n):o(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n}var I=Symbol.for("#songs"),L=Symbol.for("#index"),ee=Symbol.for("#__init__"),vn=Symbol.for("#__patch__"),Bi=Symbol.for("#__hooks__"),wn=Symbol.for("#__initor__"),dl=Symbol.for("#__inited__");kt();var Y=class{static[ee](){return this.prototype[Bi]=Pt,this.None=new Y,z([at.bind([])],this.prototype,I,null),z([at.bind([])],this.prototype,L,null),z([Xt.bind([])],this.prototype,"length",null),z([Xt.bind([])],this.prototype,"isEmpty",null),z([Zt.bind([])],this.prototype,"add",null),z([Xt.bind([])],this.prototype,"currentSong",null),z([Zt.bind([])],this.prototype,"skipForwards",null),z([Zt.bind([])],this.prototype,"skipBackwards",null),this}[vn](t={}){var e;(e=t[I])!==void 0&&(this[I]=e),(e=t[L])!==void 0&&(this[L]=e)}constructor(t=null){this[ee](t),!this[wn]&&this[Bi].inited(this)}[ee](t=null){var e;this[I]=t&&(e=t[I])!==void 0?e:[],this[L]=t&&(e=t[L])!==void 0?e:0}get length(){return this[I].length}get isEmpty(){return this.length<=0}add(t){return this[I].push(t)}get currentSong(){return this[I][this[L]]||R.None}skipForwards(){if(this[I][this[L]+1])return this[L]+=1}skipBackwards(){if(this[I][this[L]-1])return this[L]-=1}};Y[ee]();var Tn="http://localhost:8080",Hi="play";function Ui(i,t,e,r){let s=""+Tn+"/"+i+"/"+t,n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return r?window.fetch(s,n).then(r).catch(r):window.fetch(s,n)}var je=class{async play(t,e){return e?Ui("just_audio",Hi,{song:t},e):await Ui("just_audio",Hi,{song:t})}};function Gi(i,t,e,r){var s=arguments.length,n=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(i,t,e,r);else for(var l=i.length-1;l>=0;l--)(o=i[l])&&(n=(s<3?o(n):s>3?o(t,e,n):o(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n}var re=Symbol.for("#__init__"),En=Symbol.for("#__patch__"),Vi=Symbol.for("#__hooks__"),Nn=Symbol.for("#__initor__"),Sl=Symbol.for("#__inited__");kt();var Cn=15*1e3,ie=class{static[re](){return this.prototype[Vi]=Pt,this.NoneTime=new Date(0),Gi([at.bind([])],this.prototype,"playing",null),Gi([at.bind([])],this.prototype,"timer",null),this}[En](t={}){var e;(e=t.playlist)!==void 0&&(this.playlist=e),(e=t.api)!==void 0&&(this.api=e),(e=t.playing)!==void 0&&(this.playing=e),(e=t.timer)!==void 0&&(this.timer=e)}[re](t=null){var e;this.playlist=t&&(e=t.playlist)!==void 0?e:Y.None,this.api=t&&(e=t.api)!==void 0?e:void 0,this.playing=t&&(e=t.playing)!==void 0?e:!1,this.timer=t&&(e=t.timer)!==void 0?e:new Me(0)}constructor(t){this[re](),this.api=t,!this[Nn]&&this[Vi].inited(this)}get progress(){return this.timer.timePassed/1e3}finished(){return console.log("finished: "+this.timer.timePassed)}play(){this.playing||this.playlist.isEmpty||(this.api.play(this.playlist.currentSong.title),this.playing=!0,this.timer.reset(Cn),this.timer.start(this.finished))}pause(){if(!!this.playing&&!this.playlist.isEmpty)return this.playing=!1,this.timer.pause()}stop(){!this.playing||(this.playing=!1,this.timer.cancel())}};ie[re]();var qi=Symbol.for("#__init__"),On=Symbol.for("#__patch__"),Nl=Symbol.for("#__initor__"),Cl=Symbol.for("#__inited__"),Ol=Symbol.for("#__hooks__"),zi=class{[On](t={}){var e;(e=t.api)!==void 0&&(this.api=e),(e=t.playlist)!==void 0&&(this.playlist=e),(e=t.player)!==void 0&&(this.player=e)}[qi](t=null){this.api=t?t.api:void 0,this.playlist=t?t.playlist:void 0,this.player=t?t.player:void 0}constructor(){this[qi](),this.api=new je,this.playlist=new Y,this.player=new ie(this.api),this.playlist.add(new R("the answer")),this.playlist.add(new R("the question")),this.player.playlist=this.playlist}},Fn=new zi,tt=Fn;function Pn(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}var kn=Symbol.for("#beforeReconcile"),vt=Symbol.for("#placeChild"),Yi=Symbol.for("##up"),Dn=Symbol.for("#songs"),Ki=Symbol.for("#afterVisit"),In=Symbol.for("#afterReconcile"),Wi=Symbol(),Ji=Symbol(),Qi=Symbol(),Xi=Symbol(),Zi=Symbol(),ts=Symbol(),es=Symbol(),rs=Symbol(),is=Symbol(),ss=Symbol(),ns=Symbol(),os=Symbol(),k,wt=or(),ls=Symbol(),se,ne,hs=Symbol(),Ae;gi(),Wt();var Re=class extends Ee{play(){return tt.player.playing?tt.player.pause():tt.player.play()}render(){var t=this,e,r,s,n,o,l,h,a,_,u,y,M,x,w,N,et,j,Tt;e=this,e[kn](),r=s=1,e[Wi]===1||(r=s=0,e[Wi]=1),(!r||s&2)&&e.flagSelf$("cj-af"),r||(n=G("button",e,null,"Play")),r||n.on$("click",{$_:[function($,v){return t.play($)}]},this),(o=e[Ji])||(e[Ji]=o=G("div",e,null,null)),l=tt.player.progress,l===e[Xi]&&r||(e[Qi]=o[vt](e[Xi]=l,384,e[Qi])),(h=e[Zi])||(e[Zi]=h=G("ul",e,"cj-ai",null)),(a=e[ts])||(e[ts]=a=ri(384,h)),_=0,u=a.$;for(let $=0,v=Pn(tt.player.playlist[Dn]),rt=v.length;$<rt;$++){let K=v[$];M=x=1,(y=u[_])||(M=x=0,u[_]=y=G("li",a,"cj-aj",null)),M||(y[Yi]=a),(w=y[es])||(y[es]=w=G("span",y,null,null)),N=K.title,N===y[is]&&M||(y[rs]=w[vt](y[is]=N,384,y[rs])),_++}return a[Ki](_),r||(et=G("footer",e,"cj-al",null)),(j=e[ss])||(e[ss]=j=G("span",et,null,null)),r||j[vt]("You have "),Tt=tt.player.playlist.length,Tt===e[os]&&r||(e[ns]=j[vt](e[os]=Tt,0,e[ns])),r||j[vt](" songs"),e[In](s),e}};Ir("app-cj-an",Re,{});Ne((se=ne=1,(k=wt[ls])||(se=ne=0,k=wt[ls]=k=Dr(Re,null,null,null)),se||(k[Yi]=wt._),Ae=1e3/10,Ae===k[hs]||(k.autorender=k[hs]=Ae),se||wt.sym||!k.setup||k.setup(ne),wt.sym||k[Ki](ne),k));
//__FOOT__

                     